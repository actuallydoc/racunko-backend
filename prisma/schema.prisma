// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model User {
  id        Int       @id @default(autoincrement())
  createdAt DateTime  @default(now())
  firstName String
  email     String    @unique
  company   Company[]
  invoice   Invoice[]
}

model Company {
  id                Int       @id @default(autoincrement())
  companyName       String
  companyAddress    String
  companyPostalCode String
  companyCity       String
  companyVAT        String
  companyIBAN       String
  companySWIFT      String
  companyBankname   String
  companyMaticnast  String
  companyPhone      String
  createdby         String
  User              User      @relation(fields: [userId], references: [id])
  userId            Int
  partners          Partner[]
  sign              String
}

model Invoice {
  id                Int    @id @default(autoincrement())
  datumIzdaje       String
  datumStoritve     String
  datumPlacila      String
  stRacuna          Int
  invoiceId         Int
  companyName       String
  companyAddress    String
  companyPostalCode String
  companyCity       String
  companyVAT        String
  companyIBAN       String
  companySWIFT      String
  companyBankname   String
  companyMaticnast  String
  companyPhone      String
  createdby         String
  partnerId         Int
  Pdf64             String
  signedPdf64       String
  User              User   @relation(fields: [invoiceId], references: [id])
}

model Partner {
  id                Int      @id @default(autoincrement())
  partnerName       String
  partnerAddress    String
  partnerPostalCode String
  partnerCity       String
  partnerVAT        String
  partnerIBAN       String
  partnerSWIFT      String
  partnerBankname   String
  partnerMaticnast  String
  partnerPhone      String
  Company           Company? @relation(fields: [companyId], references: [id])
  companyId         Int
}
